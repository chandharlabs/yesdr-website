<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>YesDR Full Architecture</title>
  <style>
  
  
    svg { width: 100%; max-width: 1000px; margin: auto; display: block; }
.block {
  fill: transparent; /* show box without color */
  stroke: #333;
  stroke-width: 2;
}

.highlight {
  animation: fadeInGreen 1s forwards;
  animation-delay: 0s; /* you can adjust per box */
}

    .blink {
      animation: fadeIn 1s forwards, pulse 2s infinite;
    }
    .line {
      stroke: #666;
      stroke-width: 2;
      opacity: 0;
      animation: drawLine 1s forwards;
    }
    .bus {
      stroke: #000;
      stroke-width: 3;
    }
    text {
      font-family: sans-serif;
      font-size: 12px;
    }
    @keyframes fadeIn {
      to { opacity: 1; }
    }
    @keyframes pulse {
      0%,100% { stroke-width: 2; }
      50% { stroke-width: 6; }
    }
    @keyframes drawLine {
      to { opacity: 1; }
    }
@keyframes fadeInGreen {
  0% { fill: transparent; }
  100% { fill: #a3e4a3; }
}



  </style>
</head>
<body>

<div style="text-align: center; margin-top: 20px;">
  <button onclick="restartAnimation()">üîÅ Restart Animation</button>
</div>
  <svg viewBox="0 0 1200 650">

    <text x="295" y="230" class="labelPath" transform="rotate(270,295,230)">YACP</text>
    <text x="585" y="220" class="labelPath" transform="rotate(220,585,220)">PFCP</text>
    <text x="475" y="310" class="labelPath" transform="rotate(0,475,310)">GTP</text>
    <text x="200" y="230" class="labelPath" transform="rotate(-45,200,230)">YSMP</text>

  <script>
    function restartAnimation() {
      const svg = document.querySelector('svg');
      const clone = svg.cloneNode(true);
      svg.parentNode.replaceChild(clone, svg);
    }
  </script>

<rect class="block highlight" style="animation-delay: 0s;" x="350" y="50" width="100" height="25" /><text x="400" y="67" text-anchor="middle">YNRF</text>
<rect class="block highlight" style="animation-delay: 1s;" x="250" y="100" width="100" height="25" /><text x="300" y="117" text-anchor="middle">YAMF</text>
<rect class="block highlight" style="animation-delay: 2s;" x="550" y="100" width="100" height="25" /><text x="600" y="117" text-anchor="middle">YRMF</text>
<rect class="block highlight" style="animation-delay: 3s;" x="500" y="50" width="100" height="25" /><text x="550" y="67" text-anchor="middle">YCRF</text>
<rect class="block highlight" style="animation-delay: 4s;" x="850" y="100" width="100" height="25" /><text x="900" y="117" text-anchor="middle">YNEF</text>
<rect class="block highlight" style="animation-delay: 5s;" x="100" y="100" width="100" height="25" /><text x="150" y="117" text-anchor="middle">YNSSF</text>
<rect class="block highlight" style="animation-delay: 6s;" x="200" y="50" width="100" height="25" /><text x="250" y="67" text-anchor="middle">YAUSF</text>
<rect class="block highlight" style="animation-delay: 7s;" x="700" y="100" width="100" height="25" /><text x="750" y="117" text-anchor="middle">YUDM</text>
<rect class="block highlight" style="animation-delay: 8s;" x="650" y="50" width="100" height="25" /><text x="700" y="67" text-anchor="middle">YPCF</text>
<rect class="block highlight" style="animation-delay: 9s;" x="400" y="100" width="100" height="25" /><text x="450" y="117" text-anchor="middle">YSMF</text>
<rect class="block highlight" style="animation-delay: 10s;" x="600" y="300" width="100" height="30" rx="5" /><text x="650" y="320" text-anchor="middle">YUPF</text>
<rect class="block highlight" style="animation-delay: 11s;" x="100" y="300" width="100" height="30" rx="5" /><text x="150" y="320" text-anchor="middle">YSM</text>
<rect class="block highlight" style="animation-delay: 12s;" x="250" y="300" width="100" height="30" rx="5" /><text x="300" y="320" text-anchor="middle">YBS</text>
<rect class="block highlight" style="animation-delay: 13s;" x="250" y="450" width="80" height="30" rx="5" /><text x="290" y="470" text-anchor="middle">YUE</text>
<circle cx="800" cy="315" r="20" class="block" /><text x="800" y="320" text-anchor="middle">DN</text>

    <text x="940" y="300" font-size="14" fill="green" style="opacity: 0; animation: fadeIn 1s forwards; animation-delay: 0s;">Start YNRF</text>
    <text x="940" y="320" font-size="14" fill="green" style="opacity: 0; animation: fadeIn 1s forwards; animation-delay: 1s;">Start YAMF</text>
    <text x="940" y="340" font-size="14" fill="green" style="opacity: 0; animation: fadeIn 1s forwards; animation-delay: 2s;">Start YRMF</text>
    <text x="940" y="360" font-size="14" fill="green" style="opacity: 0; animation: fadeIn 1s forwards; animation-delay: 3s;">Start YCRF</text>
    <text x="940" y="380" font-size="14" fill="green" style="opacity: 0; animation: fadeIn 1s forwards; animation-delay: 4s;">Start YNEF</text>
    <text x="940" y="400" font-size="14" fill="green" style="opacity: 0; animation: fadeIn 1s forwards; animation-delay: 5s;">Start YNSSF</text>
    <text x="940" y="420" font-size="14" fill="green" style="opacity: 0; animation: fadeIn 1s forwards; animation-delay: 6s;">Start YAUSF</text>
    <text x="940" y="440" font-size="14" fill="green" style="opacity: 0; animation: fadeIn 1s forwards; animation-delay: 7s;">Start YUDM</text>
    <text x="940" y="460" font-size="14" fill="green" style="opacity: 0; animation: fadeIn 1s forwards; animation-delay: 8s;">Start YPCF</text>
    <text x="940" y="480" font-size="14" fill="green" style="opacity: 0; animation: fadeIn 1s forwards; animation-delay: 9s;">Start YSMF</text>
    <text x="940" y="500" font-size="14" fill="green" style="opacity: 0; animation: fadeIn 1s forwards; animation-delay: 10s;">Start YUPF</text>
    <text x="940" y="520" font-size="14" fill="green" style="opacity: 0; animation: fadeIn 1s forwards; animation-delay: 11s;">Start YSM</text>
    <text x="940" y="540" font-size="14" fill="green" style="opacity: 0; animation: fadeIn 1s forwards; animation-delay: 12s;">Start YBS</text>
    <text x="940" y="560" font-size="14" fill="green" style="opacity: 0; animation: fadeIn 1s forwards; animation-delay: 13s;">Start YUE</text>

<style>
.path, .regPath, .accPath, .dlPath {
  stroke: red;
  stroke-width: 4;
  stroke-dasharray: 10 5;
  stroke-dashoffset: 0;
  fill: none;
  opacity: 1;
  marker-end: url(#arrow);
  animation: moveDots 3s linear infinite, hidePath 0s forwards;
}

/* Registration Request */
.regPath {
  opacity: 0;
  animation:
    fadeIn 0.5s forwards 13s,
    moveDots 3s linear infinite 13.5s,
    hidePath 0s 17s forwards;
}

/* Authentication Request */
.authReqPath {
  opacity: 0;
  stroke: blue;
  stroke-width: 4;
  stroke-dasharray: 10 5;
  stroke-dashoffset: 0;
  fill: none;
  marker-end: url(#arrow);
  animation:
    fadeIn 0.5s forwards 17.5s,
    moveDots 3s linear infinite 18s,
    hidePath 0s 21.5s forwards;
}

/* Authentication Response */
.authResPath {
  opacity: 0;
  stroke: blue;
  stroke-width: 4;
  stroke-dasharray: 10 5;
  stroke-dashoffset: 0;
  fill: none;
  marker-end: url(#arrow);
  animation:
    fadeIn 0.5s forwards 22s,
    moveDots 3s linear infinite 22.5s,
    hidePath 0s 26s forwards;
}

/* Registration Accept */
.accPath {
  opacity: 0;
  animation:
    fadeIn 0.5s forwards 26.5s,
    moveDots 3s linear infinite 27s,
    hidePath 0s 30.5s forwards;
}

/* PDU Session Request */
.pduReqPath {
  opacity: 0;
  stroke: orange;
  stroke-width: 4;
  stroke-dasharray: 10 5;
  stroke-dashoffset: 0;
  fill: none;
  marker-end: url(#arrow);
  animation:
    fadeIn 0.5s forwards 30s,
    moveDots 3s linear infinite 30.5s,
    hidePath 0s 35s forwards;
}

/* PDU Session Accept */
.pduAccPath {
  opacity: 0;
  stroke: orange;
  stroke-width: 4;
  stroke-dasharray: 10 5;
  stroke-dashoffset: 0;
  fill: none;
  marker-end: url(#arrow);
  animation:
    fadeIn 0.5s forwards 35.5s,
    moveDots 3s linear infinite 36s,
    hidePath 0s 39.5s forwards;
}

/* Downlink */
.dlPath {
  opacity: 0;
  animation:
    fadeIn 0.5s forwards 40s,
    moveDots 3s linear infinite 40.5s;
/*    hidePath 0s 42s forwards;*/
}



@keyframes moveDots {
  from { stroke-dashoffset: 0; }
  to { stroke-dashoffset: -20; }
}

@keyframes hidePath {
  0% { opacity: 1; }
  100% { opacity: 0; }
}

.eventText {
  font-size: 12px;
  fill: red;
  opacity: 0;
  animation: fadeIn 1s forwards;
}

@keyframes blinkingText {
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
}


.eventText.blink {
  animation: blinkingText 1s linear infinite;
}


    .labelPath {
      font-size: 12px;
     /*     fill: blue; */
      opacity: 1;
  /*    font-weight: bold; --> */
    }
</style>

<!-- Registration Request: YUE -> YBS -> YAMF -->
<polyline points="290,450 300,300 300,100" class="regPath" />
<text x="1050" y="300" class="eventText blink"
  style="opacity: 0;
         animation-name: blinkingText;
         animation-duration: 1s;
         animation-delay: 13.5s;
         animation-iteration-count: 3;
         animation-timing-function: linear;
         animation-fill-mode: forwards;">
  Registration Request
</text>

<!-- Authentication Request: YAMF -> YAUF -->
<polyline points="150,100 300,100 300,300 290,450" class="authReqPath" />
<text x="1050" y="320" class="eventText blink"
  style="opacity: 0;
         animation-name: blinkingText;
         animation-duration: 1s;
         animation-delay: 18s;
         animation-iteration-count: 3;
         animation-timing-function: linear;
         animation-fill-mode: forwards;">
  Authentication Request
</text>

<!-- Authentication Response: YAUF -> YAMF -> YBS -> YUE -->
<polyline points="290,450 300,300 300,100 150,100" class="authResPath" />
<text x="1050" y="340" class="eventText blink"
  style="opacity: 0;
         animation-name: blinkingText;
         animation-duration: 1s;
         animation-delay: 22.5s;
         animation-iteration-count: 3;
         animation-timing-function: linear;
         animation-fill-mode: forwards;">
  Authentication Response
</text>

<!-- Registration Accept: YAMF -> YBS -> YUE -->
<polyline points="300,100 300,300 290,450" class="accPath" />
<text x="1050" y="360" class="eventText blink"
  style="opacity: 0;
         animation-name: blinkingText;
         animation-duration: 1s;
         animation-delay: 27s;
         animation-iteration-count: 3;
         animation-timing-function: linear;
         animation-fill-mode: forwards;">
  Registration Accept
</text>

<!-- PDU Session Request: YUE -> YBS -> YSMF -->
<polyline points="290,450 300,300 300,100 450,100" class="pduReqPath" />
<text x="1050" y="380" class="eventText blink"
  style="opacity: 0;
         animation-name: blinkingText;
         animation-duration: 1s;
         animation-delay: 31.5s;
         animation-iteration-count: 3;
         animation-timing-function: linear;
         animation-fill-mode: forwards;">
  PDU Session Request
</text>

<!-- PDU Session Accept: YSMF -> YBS -> YUE -->
<polyline points="450,100 300,100 300,300 290,450" class="pduAccPath" />
<text x="1050" y="400" class="eventText blink"
  style="opacity: 0;
         animation-name: blinkingText;
         animation-duration: 1s;
         animation-delay: 36s;
         animation-iteration-count: 3;
         animation-timing-function: linear;
         animation-fill-mode: forwards;">
  PDU Session Accept
</text>

<!-- Downlink Data Transfer: DN -> YUPF -> YBS -> YUE -->
<polyline points="780,315 700,315 650,315 300,315 290,330 290,450" class="dlPath" />
<text x="1050" y="420" class="eventText blink"
  style="opacity: 0;
         animation-name: blinkingText;
         animation-duration: 1s;
         animation-delay: 40.5s;
         animation-iteration-count: 3;
         animation-timing-function: linear;
         animation-fill-mode: forwards;">
  Downlink Data Transfer
</text>

    <!-- Bus -->
    <line x1="50" y1="85" x2="1080" y2="85" class="bus" />
    <text x="1070" y="78" text-anchor="end">SBI</text>

    <!-- Connect all control plane functions to bus -->
    <line x1="150" y1="100" x2="150" y2="85" class="line" />
    <line x1="300" y1="100" x2="300" y2="85" class="line" />
    <line x1="450" y1="100" x2="450" y2="85" class="line" />
    <line x1="600" y1="100" x2="600" y2="85" class="line" />
    <line x1="750" y1="100" x2="750" y2="85" class="line" />
    <line x1="900" y1="100" x2="900" y2="85" class="line" />
    <line x1="250" y1="75" x2="250" y2="85" class="line" />
    <line x1="400" y1="75" x2="400" y2="85" class="line" />
    <line x1="550" y1="75" x2="550" y2="85" class="line" />
    <line x1="700" y1="75" x2="700" y2="85" class="line" />

    <!-- Stacks -->
    <g>
      <text x="310" y="500" text-anchor="middle">YSDAP</text>
      <text x="310" y="515" text-anchor="middle">YPDCP</text>
      <text x="310" y="530" text-anchor="middle">YRLC</text>
      <text x="310" y="545" text-anchor="middle">YMAC</text>
      <text x="310" y="560" text-anchor="middle">YPHY</text>
    </g>
    <g>
      <text x="330" y="350" text-anchor="middle">YSDAP</text>
      <text x="330" y="365" text-anchor="middle">YPDCP</text>
      <text x="330" y="380" text-anchor="middle">YRLC</text>
      <text x="330" y="395" text-anchor="middle">YMAC</text>
      <text x="330" y="410" text-anchor="middle">YPHY</text>
    </g>
    <g>
      <text x="150" y="350" text-anchor="middle">YAP</text>
      <text x="150" y="365" text-anchor="middle">YAIF</text>
      <text x="150" y="380" text-anchor="middle">YSS</text>
      <text x="150" y="395" text-anchor="middle">YPHY</text>
    </g>

    <!-- Connections -->
    <line x1="290" y1="450" x2="290" y2="330" class="line" />
    <line x1="350" y1="315" x2="600" y2="315" class="line" />
    <line x1="700" y1="315" x2="780" y2="315" class="line" />
    <line x1="300" y1="300" x2="300" y2="125" class="line" />
    <line x1="650" y1="300" x2="450" y2="125" class="line" />
    <line x1="150" y1="300" x2="300" y2="125" class="line" />
  </svg>
</body>
</html>
