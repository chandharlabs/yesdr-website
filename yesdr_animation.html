<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>YesDR Full Architecture</title>
  <style>
  
  
    svg { width: 100%; max-width: 1000px; margin: auto; display: block; }
.block {
  fill: transparent; /* show box without color */
  stroke: #333;
  stroke-width: 2;
}

.highlight {
  animation: fadeInGreen 1s forwards;
  animation-delay: 0s; /* you can adjust per box */
}

    .blink {
      animation: fadeIn 1s forwards, pulse 2s infinite;
    }
    .line {
      stroke: #666;
      stroke-width: 2;
      opacity: 0;
      animation: drawLine 1s forwards;
    }
    .bus {
      stroke: #000;
      stroke-width: 2;
    }
    text {
      font-family: sans-serif;
      font-size: 12px;
    }
    @keyframes fadeIn {
      to { opacity: 1; }
    }
    @keyframes pulse {
      0%,100% { stroke-width: 2; }
      50% { stroke-width: 6; }
    }
    @keyframes drawLine {
      to { opacity: 1; }
    }
@keyframes fadeInGreen {
  0% { fill: transparent; }
  100% { fill: #a3e4a3; }
}


    .labelPath {
      font-size: 12px;
     /*     fill: blue; */
      opacity: 1;
  /*    font-weight: bold; --> */
    }
    

    .coreBox {
      fill: none;
      stroke: #2c3e50;
      stroke-width: .5;
      stroke-dasharray: 10 5;
    }
    

@keyframes fadeInOut {
  0% { opacity: 1; }
  28.5% { opacity: 1; } /* ~2s of visible */
  29% { opacity: 0; }
  100% { opacity: 0; } /* Invisible for ~5s */
}

  </style>
</head>
<body>

<div style="text-align: center; margin-top: 20px;">
  <button onclick="restartAnimation()">üîÅ Restart Animation</button>
</div>
  <svg viewBox="0 0 1200 650">
    <rect x="80" y="30" width="900" height="120" class="coreBox" />
    <text x="85" y="45" font-size="14" >YesDR Core Network</text>

    <text x="295" y="230" class="labelPath" transform="rotate(270,295,230)">YACP</text>
    <text x="565" y="220" class="labelPath" transform="rotate(400,565,220)">PFCP</text>
    <text x="475" y="310" class="labelPath" transform="rotate(0,475,310)">GTP</text>
    <text x="200" y="230" class="labelPath" transform="rotate(-45,200,230)">YSMP</text>

  <script>
    function restartAnimation() {
      const svg = document.querySelector('svg');
      const clone = svg.cloneNode(true);
      svg.parentNode.replaceChild(clone, svg);
    }
  </script>

<rect class="block highlight" style="animation-delay: 0s;" x="350" y="50" width="100" height="25" /><text x="400" y="67" text-anchor="middle">YNRF</text>
<rect class="block highlight" style="animation-delay: 1s;" x="250" y="100" width="100" height="25" /><text x="300" y="117" text-anchor="middle">YAMF</text>
<rect class="block highlight" style="animation-delay: 2s;" x="550" y="100" width="100" height="25" /><text x="600" y="117" text-anchor="middle">YRMF</text>
<rect class="block highlight" style="animation-delay: 3s;" x="500" y="50" width="100" height="25" /><text x="550" y="67" text-anchor="middle">YCRF</text>
<rect class="block highlight" style="animation-delay: 4s;" x="850" y="100" width="100" height="25" /><text x="900" y="117" text-anchor="middle">YNEF</text>
<rect class="block highlight" style="animation-delay: 5s;" x="100" y="100" width="100" height="25" /><text x="150" y="117" text-anchor="middle">YAUSF</text>
<rect class="block highlight" style="animation-delay: 6s;" x="200" y="50" width="100" height="25" /><text x="250" y="67" text-anchor="middle">YNSSF</text>
<rect class="block highlight" style="animation-delay: 7s;" x="700" y="100" width="100" height="25" /><text x="750" y="117" text-anchor="middle">YUDM</text>
<rect class="block highlight" style="animation-delay: 8s;" x="650" y="50" width="100" height="25" /><text x="700" y="67" text-anchor="middle">YPCF</text>
<rect class="block highlight" style="animation-delay: 9s;" x="400" y="100" width="100" height="25" /><text x="450" y="117" text-anchor="middle">YSMF</text>
<rect class="block highlight" style="animation-delay: 10s;" x="600" y="300" width="100" height="30" rx="5" /><text x="650" y="320" text-anchor="middle">YUPF</text>
<rect class="block highlight" style="animation-delay: 11s;" x="100" y="300" width="100" height="30" rx="5" /><text x="150" y="320" text-anchor="middle">YSM</text>
<rect class="block highlight" style="animation-delay: 12s;" x="250" y="300" width="100" height="30" rx="5" /><text x="300" y="320" text-anchor="middle">YBS</text>
<rect class="block highlight" style="animation-delay: 13s;" x="250" y="450" width="80" height="30" rx="5" /><text x="290" y="470" text-anchor="middle">YUE</text>
<circle cx="800" cy="315" r="20" class="block" /><text x="800" y="320" text-anchor="middle">DN</text>

    <text x="850" y="300" font-size="14" fill="green" style="opacity: 0; animation: fadeIn 1s forwards; animation-delay: 0s;">Start YNRF</text>
    <text x="850" y="320" font-size="14" fill="green" style="opacity: 0; animation: fadeIn 1s forwards; animation-delay: 1s;">Start YAMF</text>
    <text x="850" y="340" font-size="14" fill="green" style="opacity: 0; animation: fadeIn 1s forwards; animation-delay: 2s;">Start YRMF</text>
    <text x="850" y="360" font-size="14" fill="green" style="opacity: 0; animation: fadeIn 1s forwards; animation-delay: 3s;">Start YCRF</text>
    <text x="850" y="380" font-size="14" fill="green" style="opacity: 0; animation: fadeIn 1s forwards; animation-delay: 4s;">Start YNEF</text>
    <text x="850" y="400" font-size="14" fill="green" style="opacity: 0; animation: fadeIn 1s forwards; animation-delay: 5s;">Start YAUSF</text>
    <text x="850" y="420" font-size="14" fill="green" style="opacity: 0; animation: fadeIn 1s forwards; animation-delay: 6s;">Start YNSSF</text>
    <text x="850" y="440" font-size="14" fill="green" style="opacity: 0; animation: fadeIn 1s forwards; animation-delay: 7s;">Start YUDM</text>
    <text x="850" y="460" font-size="14" fill="green" style="opacity: 0; animation: fadeIn 1s forwards; animation-delay: 8s;">Start YPCF</text>
    <text x="850" y="480" font-size="14" fill="green" style="opacity: 0; animation: fadeIn 1s forwards; animation-delay: 9s;">Start YSMF</text>
    <text x="850" y="500" font-size="14" fill="green" style="opacity: 0; animation: fadeIn 1s forwards; animation-delay: 10s;">Start YUPF</text>
    <text x="850" y="520" font-size="14" fill="green" style="opacity: 0; animation: fadeIn 1s forwards; animation-delay: 11s;">Start YSM</text>
    <text x="850" y="540" font-size="14" fill="green" style="opacity: 0; animation: fadeIn 1s forwards; animation-delay: 12s;">Start YBS</text>
    <text x="850" y="560" font-size="14" fill="green" style="opacity: 0; animation: fadeIn 1s forwards; animation-delay: 13s;">Start YUE</text>

<style>
.path, .regPath, .accPath, .dlPath {
  stroke: red;
  stroke-width: 4;
  stroke-dasharray: 10 5;
  stroke-dashoffset: 0;
  fill: none;
  opacity: 1;
  marker-end: url(#arrowred);
  animation: moveDots 3s linear infinite, hidePath 0s forwards;
}

.ysmReportPath {
  stroke: gray;
  stroke-width: 4;
  stroke-dasharray: 10 5;
  fill: none;
  opacity: 0;
  marker-end: url(#arrowgray);
  animation: fadeInOut 7s linear infinite;
  animation-delay: 12s; /* Start after YSM appears at 11s */
}


/* Registration Request */
.regPath {
  opacity: 0;
  animation:
    fadeIn 0.5s forwards 23s,
    moveDots 3s linear infinite 23.5s,
    hidePath 0s 27s forwards;
}

/* Authentication Request */
.authReqPath {
  opacity: 0;
  stroke: blue;
  stroke-width: 4;
  stroke-dasharray: 10 5;
  stroke-dashoffset: 0;
  fill: none;
  marker-end: url(#arrowblue);
  animation:
    fadeIn 0.5s forwards 27.5s,
    moveDots 3s linear infinite 28s,
    hidePath 0s 31.5s forwards;
}

/* Authentication Response */
.authResPath {
  opacity: 0;
  stroke: blue;
  stroke-width: 4;
  stroke-dasharray: 10 5;
  stroke-dashoffset: 0;
  fill: none;
  marker-end: url(#arrowblue);
  animation:
    fadeIn 0.5s forwards 32s,
    moveDots 3s linear infinite 32.5s,
    hidePath 0s 36s forwards;
}

/* Registration Accept */
.accPath {
  opacity: 0;
  animation:
    fadeIn 0.5s forwards 36.5s,
    moveDots 3s linear infinite 37s,
    hidePath 0s 40.5s forwards;
}

/* PDU Session Request */
.pduReqPath {
  opacity: 0;
  stroke: orange;
  stroke-width: 4;
  stroke-dasharray: 10 5;
  stroke-dashoffset: 0;
  fill: none;
  marker-end: url(#arroworange);
  animation:
    fadeIn 0.5s forwards 40s,
    moveDots 3s linear infinite 40.5s,
    hidePath 0s 45s forwards;
}

/* PDU Session Accept */
.pduAccPath {
  opacity: 0;
  stroke: orange;
  stroke-width: 4;
  stroke-dasharray: 10 5;
  stroke-dashoffset: 0;
  fill: none;
  marker-end: url(#arroworange);
  animation:
    fadeIn 0.5s forwards 45.5s,
    moveDots 3s linear infinite 46s,
    hidePath 0s 49.5s forwards;
}

/* Downlink */
.dlPath {
  opacity: 0;
  animation:
    fadeIn 0.5s forwards 50s,
    moveDots 3s linear infinite 50.5s;
/*    hidePath 0s 42s forwards;*/
}



@keyframes moveDots {
  from { stroke-dashoffset: 0; }
  to { stroke-dashoffset: -20; }
}

@keyframes hidePath {
  0% { opacity: 1; }
  100% { opacity: 0; }
}

.eventText {
  font-size: 12px;
  fill: red;
  opacity: 0;
  animation: fadeIn 1s forwards;
}

@keyframes blinkingText {
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
}


.eventText.blink {
  animation: blinkingText 1s linear infinite;
}

/* Radio Parameter Request (YBS ‚Üí YAMF ‚Üí YRMF) */
.radioReqPath {
  opacity: 0;
  stroke: red;
  stroke-width: 4;
  stroke-dasharray: 10 5;
  stroke-dashoffset: 0;
  fill: none;
  marker-end: url(#arrowred);
  animation:
    fadeIn 0.5s forwards 14.5s,
    moveDots 2s linear 15s,
    hidePath 0s 17s forwards;
}

/* Radio Parameter (YRMF ‚Üí YBS) */
.radioResPath {
  opacity: 0;
  stroke: red;
  stroke-width: 4;
  stroke-dasharray: 10 5;
  stroke-dashoffset: 0;
  fill: none;
  marker-end: url(#arrowred);
  animation:
    fadeIn 0.5s forwards 18.5s,
    moveDots 2s linear 19s,
    hidePath 0s 21s forwards;
}

</style>


<!-- YSM Report to YCRF via YAMF -->
<polyline points="150,300 300,125 300,100 300,85 550,85 550,75" class="ysmReportPath" />
<text x="950" y="300" class="eventText blink"
  style="opacity: 0;
         animation-name: blinkingText;
         animation-delay: 11s;
         animation-duration: 1s;
         animation-iteration-count: 10;
         animation-fill-mode: forwards;">
  Spectrum Report
</text>

<!-- Radio Parameter Request: YBS ‚Üí YAMF ‚Üí YRMF -->
<polyline points="300,300 300,85 600,85 600,100" class="radioReqPath" />
<text x="950" y="320" class="eventText blink"
  style="opacity: 0;
         animation-name: blinkingText;
         animation-duration: 1s;
         animation-delay: 14s;
         animation-iteration-count: 3;
         animation-timing-function: linear;
         animation-fill-mode: forwards;">
  Radio Parameter Request
</text>

<!-- Radio Parameter: YRMF ‚Üí YBS -->
<polyline points="600,100 600,85 300,85 300,300" class="radioResPath" />
<text x="950" y="340" class="eventText blink"
  style="opacity: 0;
         animation-name: blinkingText;
         animation-duration: 1s;
         animation-delay: 18s;
         animation-iteration-count: 3;
         animation-timing-function: linear;
         animation-fill-mode: forwards;">
  Radio Parameter Assignment
</text>


<!-- Registration Request: YUE -> YBS -> YAMF -->
<polyline points="290,450 300,300 300,100" class="regPath" />
<text x="950" y="360" class="eventText blink"
  style="opacity: 0;
         animation-name: blinkingText;
         animation-duration: 1s;
         animation-delay: 23.5s;
         animation-iteration-count: 3;
         animation-timing-function: linear;
         animation-fill-mode: forwards;">
  Registration Request
</text>

<!-- Authentication Request: YAMF -> YAUSF -->
<polyline points="150,100 150,85 300,85 300,300 290,450" class="authReqPath" />
<text x="950" y="380" class="eventText blink"
  style="opacity: 0;
         animation-name: blinkingText;
         animation-duration: 1s;
         animation-delay: 28s;
         animation-iteration-count: 3;
         animation-timing-function: linear;
         animation-fill-mode: forwards;">
  Authentication Request
</text>

<!-- Authentication Response: YAUF -> YAMF -> YBS -> YUE -->
<polyline points="290,450 300,300 300,85 150,85 150,100" class="authResPath" />
<text x="950" y="400" class="eventText blink"
  style="opacity: 0;
         animation-name: blinkingText;
         animation-duration: 1s;
         animation-delay: 32.5s;
         animation-iteration-count: 3;
         animation-timing-function: linear;
         animation-fill-mode: forwards;">
  Authentication Response
</text>

<!-- Registration Accept: YAMF -> YBS -> YUE -->
<polyline points="300,100 300,300 290,450" class="accPath" />
<text x="950" y="420" class="eventText blink"
  style="opacity: 0;
         animation-name: blinkingText;
         animation-duration: 1s;
         animation-delay: 37s;
         animation-iteration-count: 3;
         animation-timing-function: linear;
         animation-fill-mode: forwards;">
  Registration Accept
</text>

<!-- PDU Session Request: YUE -> YBS -> YSMF -->
<polyline points="290,450 300,300 300,85 450,85 450,100" class="pduReqPath" />
<text x="950" y="440" class="eventText blink"
  style="opacity: 0;
         animation-name: blinkingText;
         animation-duration: 1s;
         animation-delay: 41.5s;
         animation-iteration-count: 3;
         animation-timing-function: linear;
         animation-fill-mode: forwards;">
  PDU Session Request
</text>

<!-- PDU Session Accept: YSMF -> YBS -> YUE -->
<polyline points="450,100 450,85 300,85 300,300 290,450" class="pduAccPath" />
<text x="950" y="460" class="eventText blink"
  style="opacity: 0;
         animation-name: blinkingText;
         animation-duration: 1s;
         animation-delay: 46s;
         animation-iteration-count: 3;
         animation-timing-function: linear;
         animation-fill-mode: forwards;">
  PDU Session Accept
</text>

<!-- Downlink Data Transfer: DN -> YUPF -> YBS -> YUE -->
<polyline points="780,315 700,315 650,315 300,315 290,330 290,450" class="dlPath" />
<text x="950" y="480" class="eventText blink"
  style="opacity: 0;
         animation-name: blinkingText;
         animation-duration: 1s;
         animation-delay: 50.5s;
         animation-iteration-count: 3;
         animation-timing-function: linear;
         animation-fill-mode: forwards;">
  Downlink Data Transfer
</text>

    <!-- Bus -->
    <line x1="100" y1="85" x2="950" y2="85" class="bus" />
    <text x="950" y="78" text-anchor="end">SBI</text>

    <!-- Connect all control plane functions to bus -->
    <line x1="150" y1="100" x2="150" y2="85" class="line" />
    <line x1="300" y1="100" x2="300" y2="85" class="line" />
    <line x1="450" y1="100" x2="450" y2="85" class="line" />
    <line x1="600" y1="100" x2="600" y2="85" class="line" />
    <line x1="750" y1="100" x2="750" y2="85" class="line" />
    <line x1="900" y1="100" x2="900" y2="85" class="line" />
    <line x1="250" y1="75" x2="250" y2="85" class="line" />
    <line x1="400" y1="75" x2="400" y2="85" class="line" />
    <line x1="550" y1="75" x2="550" y2="85" class="line" />
    <line x1="700" y1="75" x2="700" y2="85" class="line" />

    <!-- Stacks -->
    <g>
      <text x="310" y="500" text-anchor="middle">YSDAP</text>
      <text x="310" y="515" text-anchor="middle">YPDCP</text>
      <text x="310" y="530" text-anchor="middle">YRLC</text>
      <text x="310" y="545" text-anchor="middle">YMAC</text>
      <text x="310" y="560" text-anchor="middle">YPHY</text>
    </g>
    <g>
      <text x="330" y="350" text-anchor="middle">YSDAP</text>
      <text x="330" y="365" text-anchor="middle">YPDCP</text>
      <text x="330" y="380" text-anchor="middle">YRLC</text>
      <text x="330" y="395" text-anchor="middle">YMAC</text>
      <text x="330" y="410" text-anchor="middle">YPHY</text>
    </g>
    <g>
      <text x="150" y="350" text-anchor="middle">YAP</text>
      <text x="150" y="365" text-anchor="middle">YAIF</text>
      <text x="150" y="380" text-anchor="middle">YSS</text>
      <text x="150" y="395" text-anchor="middle">YPHY</text>
    </g>

    <!-- Connections -->
    <line x1="290" y1="450" x2="290" y2="330" class="line" />
    <line x1="350" y1="315" x2="600" y2="315" class="line" />
    <line x1="700" y1="315" x2="780" y2="315" class="line" />
    <line x1="300" y1="300" x2="300" y2="125" class="line" />
    <line x1="650" y1="300" x2="450" y2="125" class="line" />
    <line x1="150" y1="300" x2="300" y2="125" class="line" />
    
   <!--    <defs>
  <marker id="arrowred" markerWidth="6" markerHeight="6" refX="6" refY="3"
          orient="auto" markerUnits="strokeWidth">
    <path d="M0,0 L0,5 L5,3 z" fill="red" />
  </marker>
</defs>

    <defs>
  <marker id="arrowblue" markerWidth="6" markerHeight="6" refX="6" refY="3"
          orient="auto" markerUnits="strokeWidth">
    <path d="M0,0 L0,5 L5,3 z" fill="blue" />
  </marker>
</defs>

    <defs>
  <marker id="arrowgray" markerWidth="6" markerHeight="6" refX="6" refY="3"
          orient="auto" markerUnits="strokeWidth">
    <path d="M0,0 L0,5 L5,3 z" fill="gray" />
  </marker>
</defs>

    <defs>
  <marker id="arroworange" markerWidth="6" markerHeight="6" refX="6" refY="3"
          orient="auto" markerUnits="strokeWidth">
    <path d="M0,0 L0,5 L5,3 z" fill="orange" />
  </marker>
</defs> -->

    <defs>
  <marker id="arrow2" markerWidth="6" markerHeight="6" refX="6" refY="3"
          orient="auto" markerUnits="strokeWidth">
    <path d="M0,0 L0,5 L5,3 z" fill="red" />
  </marker>
</defs>
  </svg>
</body>
</html>
